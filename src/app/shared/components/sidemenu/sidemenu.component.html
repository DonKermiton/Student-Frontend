<div [ngClass]="sideMenuActive ? 'toggle' : ''" class="bg-second " id="sidebar-wrapper">
    <div class="d-flex flex-column" id="items-wrapper">
        <div *ngIf="sideMenuActive" class="d-flex justify-content-center mt-3 " id="sidebar-heading">
            <img alt="" class="img-fluid" src="../../../../assets/img/logo.png"/>
        </div>

        <div id="sidebar-items">
            <div appShowMoreOptions>
                <div [class.link-disabled]="sideMenuActive"
                     [class.mt-3]="sideMenuActive"
                     [routerLink]="'/core/dashboard'" class="sidebar-item d-flex align-items-center justify-content-around border-bottom border-info position-relative"
                     routerLinkActive="active-sidebar-item text-info">

                    <div class="flex-fill d-flex align-items-center justify-content-around hideText">
                        <span>Dashboard</span>
                    </div>
                    <div [ngClass]="sideMenuActive ? 'text-right pr-2' : 'text-center'" class="flex-fill ">
                        <fa-icon [icon]="!sideMenuActive ? faFeatherAlt : faCaretSquareDown"></fa-icon>
                    </div>
                </div>

                <div (click)="$event.stopPropagation()" class="more-options hideText">
                    <div [routerLink]="'/core/dashboard'" class="more-options-element border-bottom border-info"
                         routerLinkActive="text-info">
                        <fa-icon [icon]="faFeatherAlt"></fa-icon>
                        <span class="ml-2">Dashboard</span>
                    </div>
                    <div [routerLink]="'/core/profile/' + userID + '/table'"
                         class="more-options-element border-bottom border-info" routerLinkActive="text-info">
                        <fa-icon [icon]="faUser"></fa-icon>
                        <span class="ml-2">Your Profile</span>
                    </div>
                </div>
            </div>
            <div appShowMoreOptions>
                <div [class.link-disabled]="sideMenuActive"
                     [routerLinkActiveOptions]="{exact: true}" [routerLink]="'/core'"
                     class="sidebar-item d-flex align-items-center justify-content-around border-bottom border-info position-relative" routerLinkActive="active-sidebar-item text-info">
                    <div class="flex-fill d-flex align-items-center justify-content-around hideText">
                        <span>second link</span>
                    </div>
                    <div [ngClass]="sideMenuActive ? 'text-right pr-2' : 'text-center'" class="flex-fill ">
                        <fa-icon [icon]="!sideMenuActive ? faChalkboard : faCaretSquareDown"></fa-icon>
                    </div>

                </div>

                <div (click)="$event.stopPropagation()" class="more-options mx-5 hideText">
                    <div class="more-options-element">
                        test
                    </div>
                    <div class="more-options-element">
                        test
                    </div>
                </div>

            </div>

            <div class="sidebar-item d-flex align-items-center justify-content-around border-bottom border-info">
                <div class="flex-fill d-flex align-items-center justify-content-around hideText">
                    <span>third link</span>
                </div>
                <div [ngClass]="sideMenuActive ? 'text-right pr-2' : 'text-center'" class="flex-fill ">
                    <fa-icon [icon]="!sideMenuActive ? faChalkboard : faCaretSquareDown"></fa-icon>
                </div>
            </div>
        </div>

        <div class="flex-fill"></div>

        <div [ngClass]="sideMenuActive ? 'flex-row' : 'flex-column'" [style.flex-basis]="sideMenuActive ? '' : '10%'"
             class="d-flex">
            <div [routerLinkActiveOptions]="{exact: true}"
                 [routerLink]="'/core/view-files'" class="flex-fill text-center position-relative d-flex align-items-center justify-content-center"
                 routerLinkActive="active-sidebar-item text-info">
                <fa-icon [icon]="faFolderOpen"></fa-icon>
            </div>
            <div class="flex-fill text-center  d-flex align-items-center justify-content-center">
                <fa-icon [icon]="faComment"></fa-icon>
            </div>

        </div>

        <div (click)="sideMenuActive = !sideMenuActive" [ngClass]="!sideMenuActive ? 'fa-rotate-180' : ''"
             class="text-center mt-5 mb-4">
            <fa-icon [icon]="faCaretSquareLeft"></fa-icon>
        </div>


        <div>
            <div *ngIf="(users.User | async); else spinnerComponent" class="d-flex justify-content-center">
                <a aria-expanded="false" aria-haspopup="true" style="color: #E39F9F" class="nav-link dropdown-toggle " data-toggle="dropdown"
                   id="navbarDropdown" role="button">
                    <img alt="profile" class="rounded-circle"
                         height="30" src="/api/photo/getUserProfile/Front/{{(users.User| async).id}}"
                         style="border: 1px solid #E39F9F"
                         width="30"
                    />
                </a>
                <div aria-labelledby="navbarDropdown" class="dropdown-menu bg-dark">
                    <a class="dropdown-item" routerLink="/core/profile"
                       routerLinkActive="active-sidebar-item text-info">
                        <i aria-hidden="true" class="fa fa-user"></i>
                        Your profile</a>
                    <a class="dropdown-item"
                       routerLink="/core/adminPanel"
                       routerLinkActive="active">Admin panel</a>
                    <div class="dropdown-divider"></div>
                    <a (click)="auth.logout()" class="dropdown-item text-danger">
                        <i aria-hidden="true" class="fa fa-sign-out"></i>
                        Logout</a>
                </div>
            </div>
        </div>
    </div>

</div>
<ng-template #spinnerComponent>
    <app-spinner></app-spinner>
</ng-template>
